services:
  - type: web
    name: sportsync-ai-quiz
    runtime: python
    plan: free
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt
    startCommand: streamlit run app_streamlit.py --server.port=$PORT --server.address=0.0.0.0
    healthCheckPath: /
    envVars:
      # Python Version
      - key: PYTHON_VERSION
        value: 3.11.9
      
      # Primary LLM Provider (Choose ONE)
      - key: OPENAI_API_KEY
        sync: false  # Add your key in Render dashboard
      
      # Alternative LLM Providers (Optional - for fallback)
      - key: GROQ_API_KEY
        sync: false  # Free tier available!
      
      - key: ANTHROPIC_API_KEY
        sync: false
      
      - key: GOOGLE_API_KEY
        sync: false
        
      - key: OPENROUTER_API_KEY
        sync: false
        
      - key: DEEPSEEK_API_KEY
        sync: false
      
      # Model Configuration
      - key: AI_FAST_MODEL
        value: gpt-3.5-turbo
      
      - key: AI_REASONING_MODEL
        value: gpt-4o-mini
      
      - key: AI_INTELLIGENCE_MODEL
        value: gpt-4o
      
      - key: CHAT_MODEL
        value: gpt-4o-mini,groq/mixtral-8x7b-32768
      
      - key: CHAT_MODEL_FALLBACK
        value: gpt-3.5-turbo,groq/llama-2-70b-chat
      
      # System Configuration
      - key: ENABLE_FALLBACK
        value: "true"
      
      - key: LOG_LEVEL
        value: INFO
      
      - key: LLM_INIT_LOG
        value: "1"
        
      # Image APIs (Optional - for video generation)
      - key: PEXELS_API_KEY
        sync: false
        
      - key: UNSPLASH_ACCESS_KEY
        sync: false
        
      - key: PIXABAY_API_KEY
        sync: false
      
      # RunPod (Optional - for AI images)
      - key: RUNPOD_API_KEY
        sync: false
        
      # Feature Flags
      - key: ENABLE_DYNAMIC_CHAT
        value: "true"
        
      - key: ENABLE_VIDEO_GENERATION
        value: "false"
        
      - key: ENABLE_KB_RANKER
        value: "true"
        
      - key: ENABLE_LAYER_Z
        value: "true"
      
      # Application Settings
      - key: APP_VERSION
        value: "2.3.0"
        
      - key: APP_ENV
        value: production
